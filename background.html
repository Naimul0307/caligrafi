<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Background Selection</title>
    <link rel="stylesheet" href="image.css">
    <style>

    </style>
</head>
<body>
    <h1>Select a Background</h1>
    <div id="image-container"></div>
    <button onclick="submitBackground()">Submit Background</button>

    <script>
    document.addEventListener("DOMContentLoaded", function () {
        const images = ["background.jpg", "background1.jpg", "background2.jpg"]; // List of images in the /images folder
        const container = document.getElementById("image-container");

        images.forEach(image => {
            const imgElement = document.createElement("img");
            imgElement.src = `images/${image}`; // Correct path to images
            imgElement.classList.add("image-option");

            imgElement.addEventListener("click", () => {
                // Remove the 'selected' class from any previously selected image
                const previouslySelected = document.querySelector(".image-option.selected");
                if (previouslySelected) {
                    previouslySelected.classList.remove("selected");
                }

                // Add the 'selected' class to the clicked image
                imgElement.classList.add("selected");

                // Store the selected image in localStorage without applying it to the page background
                localStorage.setItem('selectedBackground', `images/${image}`);
            });

            container.appendChild(imgElement);
        });
    });

    // Function to submit the selected background image and navigate to the next page
    function submitBackground() {
        // Ensure background image is selected before proceeding
        if (localStorage.getItem('selectedBackground')) {
            window.location.href = "image.html"; // Redirect to the image generation page
        } else {
            alert("Please select a background image first.");
        }
    }
    </script>
</body>
</html>
